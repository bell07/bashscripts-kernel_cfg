# LXC Configuratioon for waydroid
# Namespaces
CONFIG_NAMESPACES=y
CONFIG_UTS_NS=y
CONFIG_IPC_NS=y
CONFIG_PID_NS=y
CONFIG_USER_NS=y
CONFIG_NET_NS=y

# Control groups
CONFIG_CGROUPS=y
CONFIG_CGROUP_DEVICE=y
CONFIG_CGROUP_SCHED=y
CONFIG_CGROUP_CPUACCT=y
CONFIG_MEMCG=y
CONFIG_CPUSETS=y

#Misc
CONFIG_VETH=y
CONFIG_MACVLAN=y
CONFIG_VLAN_8021Q=m
CONFIG_BRIDGE=m
CONFIG_NETFILTER_ADVANCED=y
CONFIG_IP_NF_TARGET_MASQUERADE=m
CONFIG_IP6_NF_TARGET_MASQUERADE=m
CONFIG_NETFILTER_XT_TARGET_CHECKSUM=m
CONFIG_NETFILTER_XT_MATCH_COMMENT=m
CONFIG_FUSE_FS=m

# Checkpoint/Restore
CONFIG_FHANDLE=y
CONFIG_EVENTFD=y
CONFIG_EPOLL=y
CONFIG_UNIX_DIAG=y
CONFIG_INET_DIAG=y
CONFIG_PACKET_DIAG=y
CONFIG_NETLINK_DIAG=y



# https://github.com/waydroid/waydroid/issues/402
CONFIG_BPFILTER=m
CONFIG_BRIDGE=m
CONFIG_CFG80211=m
CONFIG_INET6_TUNNEL=m
CONFIG_INET_TUNNEL=m
CONFIG_IP_ADVANCED_ROUTER=y
CONFIG_IP_MULTIPLE_TABLES=y
CONFIG_IP_NF_FILTER=m
CONFIG_IP_NF_IPTABLES=m
CONFIG_IP_NF_MANGLE=m
CONFIG_IP_NF_NAT=m
CONFIG_IP_ROUTE_MULTIPATH=y
CONFIG_IPV6_RPL_LWTUNNEL=y
CONFIG_IPV6_SEG6_LWTUNNEL=y
CONFIG_IPV6_SEG6_HMAC=y
CONFIG_IPV6_SUBTREES=y
CONFIG_MRP=m
CONFIG_NETFILTER_XT_MATCH_CONNTRACK=m
CONFIG_NETFILTER_XT_MATCH_STATE=m
CONFIG_NETFILTER_XT_TARGET_CHECKSUM=m
CONFIG_NETFILTER_XT_TARGET_MASQUERADE=m
CONFIG_NF_CONNTRACK=m
CONFIG_NF_DEFRAG_IPV4=m
CONFIG_NF_DEFRAG_IPV6=m
CONFIG_NF_NAT=m
CONFIG_NFT_COMPAT=m
CONFIG_RFKILL=m
CONFIG_STP=m
CONFIG_VIRTIO_VSOCKETS=m
CONFIG_VLAN_8021Q_GVRP=y
CONFIG_VLAN_8021Q=m
CONFIG_VLAN_8021Q_MVRP=y
CONFIG_VSOCKETS_LOOPBACK=m
CONFIG_VSOCKETS=m
CONFIG_XFRM_INTERFACE=m
